<section>
  <div class="container">
    <div class="cart-container">
      <div *ngFor="let item of cartItems" class="cart-item-card">
        <img
          [src]="item.images[0]"
          alt="{{ item.title }}"
          class="product-image"
        />
        <div class="product-details">
          <h2
            class="head"
            style="font-size: 20px; font-weight: 600; margin-bottom: 5px"
          >
            {{ item.title }}
          </h2>
          <h3 class="head" style="font-size: 0.8rem; font-weight: 400">
            {{ item.description }}
          </h3>
          <p class="item-details">Category:{{ item.category }}</p>
          <p class="item-details">Price: SAR{{ item.price }}</p>
          <p class="item-details">
            <span style="color: #1f8394">In stock: {{ item.stock }}</span>
          </p>
          <div class="quantity-container">
            <label for="quantity-{{ item.id }}" class="quantity-label"
              >Quantity:</label
            >
            <input
              type="number"
              id="quantity-{{ item.id }}"
              [(ngModel)]="item.quantity"
              min="1"
              [max]="item.stock"
              (change)="updateQuantity(item, item.quantity)"
              class="quantity-input"
            />
          </div>
          <button (click)="removeItem(item.id)">Remove</button>
        </div>
      </div>
      <button
        style="background-color: #ffd814"
        *ngIf="totalItems > 0"
        class="button-cart"
        (click)="clearCart()"
      >
        Clear Cart
      </button>
    </div>
    <div *ngIf="totalItems > 0" class="total-price-card">
      <h2>Total Items ({{ totalItems }}): SAR{{ totalPrice.toFixed(2) }}</h2>
      <button
        class="button-cart"
        style="background-color: #ffd814"
        (click)="orderNow()"
      >
        Order Now
      </button>
    </div>
  </div>
  <div *ngIf="totalItems === 0" class="noproduct">
    <img src="/assets/images/NoResult.jpg" alt="" />
    <span>No products found.</span>
  </div>
</section>
